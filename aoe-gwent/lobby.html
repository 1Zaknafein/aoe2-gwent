<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo/ts-logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AoE Card Game - Lobby</title>
</head>

<body>
    <div class="lobby-container">
        <!-- Main Lobby Header -->
        <div class="lobby-header">
            <h1 class="lobby-title">Age of Empires Card Game</h1>
        </div>

        <!-- Player Setup Section -->
        <div id="player-setup-section" class="lobby-section">
            <h3>Player Setup</h3>
            <div class="form-group">
                <label for="player-name">Player Name:</label>
                <input type="text" id="player-name" placeholder="Enter your name" maxlength="20" />
            </div>

            <div class="lobby-actions">
                <button id="login-btn" class="btn">Enter Lobby</button>
                <button id="logout-btn" class="btn btn-secondary" style="display: none;">Change Name</button>
            </div>
        </div>

        <!-- Lobby Actions Section (initially hidden) -->
        <div id="lobby-actions-section" class="lobby-section" style="display: none;">
            <h3>Lobby Actions</h3>
            <div class="lobby-actions">
                <button id="create-room-btn" class="btn">Create Room</button>
            </div>
        </div>

        <!-- Create Room Modal -->
        <div id="create-room-modal" class="lobby-section" style="display: none;">
            <h3>Create New Room</h3>
            <div class="form-group">
                <label for="room-name">Room Name:</label>
                <input type="text" id="room-name" placeholder="Enter room name" maxlength="30" />
            </div>
            <div class="game-controls">
                <button id="confirm-create-room" class="btn">Create</button>
                <button id="cancel-create-room" class="btn btn-secondary">Cancel</button>
            </div>
        </div>

        <!-- Rooms Section (initially hidden) -->
        <div id="available-rooms-section" class="lobby-section" style="display: none;">
            <h3>Rooms</h3>
            <div class="room-list" id="available-rooms">
                <!-- Rooms will be populated here dynamically -->
            </div>
        </div>

        <!-- Current Room Section -->
        <div id="current-room-section" class="lobby-section" style="display: none;">
            <h3>Current Room: <span id="current-room-name">Room Name</span></h3>

            <div class="player-list">
                <div class="player-card" id="player-1">
                    <div>Player 1: <span id="player-1-name">Waiting...</span></div>
                    <div id="player-1-status">Not Ready</div>
                </div>
                <div class="player-card" id="player-2">
                    <div>Player 2: <span id="player-2-name">Waiting...</span></div>
                    <div id="player-2-status">Not Ready</div>
                </div>
            </div>

            <div class="game-controls">
                <button id="ready-btn" class="btn">Ready</button>
                <button id="leave-room-btn" class="btn btn-secondary">Leave Room</button>
            </div>
        </div>

        <!-- Status Messages -->
        <div id="status-container">
            <!-- Status messages will be displayed here -->
        </div>
    </div>

    <script type="module" src="/src/lobby.ts"></script>
</body>

</html>